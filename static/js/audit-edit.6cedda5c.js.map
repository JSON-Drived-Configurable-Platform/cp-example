{"version":3,"sources":["webpack:///./src/page/audit/index.vue?ab99","webpack:///./src/page/audit/config/edit.js","webpack:///./src/page/audit/config/total.js","webpack:///./src/page/audit/config/index.js","webpack:///./src/page/audit/helper.js","webpack:///src/page/audit/index.vue","webpack:///./src/page/audit/index.vue?1cfc","webpack:///./src/page/audit/index.vue","webpack:///./src/page/audit/index.js","webpack:///./src/page/audit/index.vue?a3a4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","pageConfig","config","key","title","_v","_s","downLoadUrl","needShowDownLoadButton","_e","type","class","changeFormStyle","table","columns","data","showTableHeader","scopedSlots","_u","column","slot","fn","ref","row","index","refInFor","field","i","paramsContainer","on","$event","handleFieldChange","handleButtonEvent","handleListItemClick","value","handleSave","formVaildAction","model","callback","$$v","imgPreviewModalOpen","expression","imgPreviewUrl","asureDialogConfig","asureDialogShow","content","cancel","confirm","staticRenderFns","pageMark","showButton","pageDataRequestInfo","api","method","apiParams","submitRequestInfo","pageGoBackUrl","tableList","sectionKey","needClearData","width","formFields","options","label","rules","required","message","placeholder","showOn","auditStatus","enum","subtype","reason","disabled","isPass","reasonDesc","companyId","min","max","trigger","checkConsolusion","dialogs","keyToLabelMap","baseInfo","aaname","abidcard","diagnoseTime","diseaseName","diagnoseHospital","address","phone","backupPhone","bankNo","bankUsername","caseDes","moreInfo","joinTime","applyTime","totalDays","mutualMoney","isSerious","uploadMaterial","bankcard","idCardImgs","inpatient","diseaseImgs","application","firstComment","secondComment","offlineComment","undeilineProcess","undeilineSurvey","offlineCommentLink","underlineDocUrl","excludePassKeys","cardWidth","cardHeight","textModel","action","editConfig","totalConfig","getTableData","sectionData","sectionLabel","tableData","Object","keys","map","rowData","filter","item","getSectionTableData","sectionConfig","pageData","keyToLabel","info","loading","formModel","isCheck","computed","pagePath","request","needDealUploadData","watch","getPageDetail","mounted","methods","resetPageData","console","log","refKey","$refs","validate","$set","refKeys","forEach","valid","validCount","length","err","url","applyNo","$route","query","component"],"mappings":"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UAAW,CAAC,QAEdE,cAAe,GACfC,UAAW,CACT,CACErD,MAAO,SACPM,KAAM,QACNgD,WAAY,WACZC,eAAe,EACfnD,wBAAwB,EACxBQ,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,IACPD,IAAK,QACLyD,MAAO,WAKf,CACExD,MAAO,SACPM,KAAM,QACNF,wBAAwB,EACxBmD,eAAe,EACfD,WAAY,UACZ1C,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,IACPD,IAAK,QACLyD,MAAO,WAKf,CACExD,MAAO,SACPM,KAAM,QACNF,wBAAwB,EACxBmD,eAAe,EACfD,WAAY,WACZ1C,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,IACPD,IAAK,QACLyD,MAAO,WAKf,CACExD,MAAO,SACPM,KAAM,QACNF,wBAAwB,EACxBmD,eAAe,EACfD,WAAY,iBACZ1C,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,OACPgB,KAAM,QACNwC,MAAO,OACPC,WAAY,CACV,CACEnD,KAAM,OACN2B,MAAO,QACP8E,UAAW,QACXC,WAAY,aAOxB,CACEhH,MAAO,SACPM,KAAM,QACNF,wBAAwB,EACxBmD,eAAe,EACfD,WAAY,eACZ1C,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,IACPD,IAAK,QACLyD,MAAO,WAKf,CACExD,MAAO,SACPM,KAAM,QACNF,wBAAwB,EACxBmD,eAAe,EACfD,WAAY,gBACZ1C,iBAAiB,EACjBH,MAAO,CACLC,QAAS,CACP,CACEV,MAAO,IACPD,IAAK,QACLyD,MAAO,KAET,CACExD,MAAO,IACPD,IAAK,QACLyD,MAAO,WAKf,CACExD,MAA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","file":"static/js/audit-edit.6cedda5c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-audit\"},[(_vm.loading)?_c('div',{staticClass:\"page-audit-loading\"},[_c('Spin',{staticClass:\"page-audit-loading-spin\",attrs:{\"size\":\"large\"}})],1):[_vm._l((_vm.pageConfig.tableList),function(config){return _c('div',{key:config.title,staticClass:\"page-audit-section\"},[_c('h3',{staticClass:\"page-audit-header\"},[_vm._v(\"\\n        \"+_vm._s(config.title)+\"\\n      \")]),_c('div',{staticClass:\"page-audit-tool-bar\"},[(_vm.downLoadUrl && config.needShowDownLoadButton)?_c('a',{attrs:{\"href\":_vm.downLoadUrl}},[_vm._v(\"下载全部\")]):_vm._e()]),(config.type==='table')?_c('Table',{class:[config.changeFormStyle ? 'page-audit-table page-audit-form'\n          : 'page-audit-table'],attrs:{\"columns\":config.table.columns,\"data\":config.table.data,\"show-header\":config.showTableHeader},scopedSlots:_vm._u([_vm._l((config.table.columns),function(column){return {key:column.slot,fn:function(ref){\n          var row = ref.row;\n          var index = ref.index;\nreturn [(column.formFields)?_c('Form',{key:column.slot,ref:column.slot + row.key,refInFor:true,attrs:{\"model\":row}},_vm._l((column.formFields),function(field,i){return _c('FieldGenerator',{key:i,attrs:{\"field\":field,\"params-container\":_vm.paramsContainer},on:{\"on-field-change\":function($event){return _vm.handleFieldChange($event, row, column.slot + row.key)},\"on-button-event\":function($event){return _vm.handleButtonEvent($event, row, index)},\"on-list-item-click\":_vm.handleListItemClick}})}),1):_c('div',{key:column.key},[_vm._v(_vm._s(row.value))])]}}})],null,true)}):_vm._e()],1)}),(_vm.pageConfig.showButton)?_c('div',{staticClass:\"page-audit-footer-actions\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSave(_vm.pageConfig.formVaildAction)}}},[_vm._v(\"提交保存\")])],1):_vm._e()],_c('Modal',{attrs:{\"width\":800},model:{value:(_vm.imgPreviewModalOpen),callback:function ($$v) {_vm.imgPreviewModalOpen=$$v},expression:\"imgPreviewModalOpen\"}},[_c('img',{staticClass:\"page-audit-modal-img\",attrs:{\"src\":_vm.imgPreviewUrl,\"alt\":\"\"}})]),_c('Modal',{attrs:{\"title\":_vm.asureDialogConfig.title},model:{value:(_vm.asureDialogShow),callback:function ($$v) {_vm.asureDialogShow=$$v},expression:\"asureDialogShow\"}},[_c('div',[_vm._v(_vm._s(_vm.asureDialogConfig.content))]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\",\"size\":\"large\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const pageConfig = {\n  pageMark: 'reCheck',\n  showButton: true,\n  pageDataRequestInfo: {\n    api: '/api/audit/edit/data',\n    method: 'get',\n    apiParams: ['all']\n  },\n  submitRequestInfo: {\n    api: '/api/audit/edit/submit',\n    method: 'get'\n  },\n  pageGoBackUrl: '',\n  // 表单验证通过后的行为\n  formVaildAction: 'showDialog',\n  tableList: [\n    {\n      title: '用户上传信息',\n      type: 'table',\n      sectionKey: 'baseInfo',\n      needClearData: true,\n      changeFormStyle: true,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'Radio',\n                model: 'auditStatus',\n                options: [\n                  {\n                    label: '通过',\n                    value: '1'\n                  },\n                  {\n                    label: '驳回',\n                    value: '2'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择审核结论'\n                  }\n                ]\n              },\n              {\n                type: 'Select',\n                model: 'reason',\n                placeholder: '请选择原因',\n                options: [\n                  {\n                    label: '此部分信息填写有误，请重新填写',\n                    value: '此部分信息填写有误，请重新填写'\n                  },\n                  {\n                    label: '此部分信息填写不完整，请重新填写',\n                    value: '此部分信息填写不完整，请重新填写'\n                  },\n                  {\n                    label: '此部分信息填写与所上传图片不符，请重新填写',\n                    value: '此部分信息填写与所上传图片不符，请重新填写'\n                  },\n                  {\n                    label: '其他原因，手动输入',\n                    value: '4'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择原因'\n                  }\n                ],\n                showOn: {\n                  auditStatus: [\n                    {\n                      type: 'enum',\n                      enum: ['2']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              },\n              {\n                type: 'Input',\n                subtype: 'textarea',\n                model: 'reasonDesc',\n                placeholder: '请输入原因',\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入原因'\n                  }\n                ],\n                showOn: {\n                  reason: [\n                    {\n                      type: 'enum',\n                      enum: ['4']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      title: '用户案件描述',\n      type: 'table',\n      sectionKey: 'caseDes',\n      needClearData: true,\n      changeFormStyle: false,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'Radio',\n                model: 'auditStatus',\n                options: [\n                  {\n                    label: '通过',\n                    value: '1'\n                  },\n                  {\n                    label: '驳回',\n                    value: '2'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择审核结论'\n                  }\n                ]\n              },\n              {\n                type: 'Select',\n                model: 'reason',\n                placeholder: '请选择原因',\n                options: [\n                  {\n                    label: '此部分信息填写有误，请重新填写',\n                    value: '此部分信息填写有误，请重新填写'\n                  },\n                  {\n                    label: '此部分信息填写不完整，请重新填写',\n                    value: '此部分信息填写不完整，请重新填写'\n                  },\n                  {\n                    label: '此部分信息填写与所上传图片不符，请重新填写',\n                    value: '此部分信息填写与所上传图片不符，请重新填写'\n                  },\n                  {\n                    label: '其他原因，手动输入',\n                    value: '4'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择原因'\n                  }\n                ],\n                showOn: {\n                  auditStatus: [\n                    {\n                      type: 'enum',\n                      enum: ['2']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              },\n              {\n                type: 'Input',\n                subtype: 'textarea',\n                model: 'reasonDesc',\n                placeholder: '请输入原因',\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入原因'\n                  }\n                ],\n                showOn: {\n                  reason: [\n                    {\n                      type: 'enum',\n                      enum: ['4']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      title: '用户更多信息',\n      type: 'table',\n      sectionKey: 'moreInfo',\n      needClearData: true,\n      changeFormStyle: false,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '用户图片信息',\n      type: 'table',\n      sectionKey: 'uploadMaterial',\n      needClearData: true,\n      changeFormStyle: true,\n      showTableHeader: true,\n      table: {\n        columns: [\n          {\n            title: '图片项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '图片列表',\n            slot: 'value1',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'List',\n                model: 'value',\n                'cardWidth': '120px',\n                'cardHeight': '90px'\n              }\n            ]\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 250,\n            formFields: [\n              {\n                type: 'Radio',\n                model: 'auditStatus',\n                options: [\n                  {\n                    label: '通过',\n                    value: '1'\n                  },\n                  {\n                    label: '驳回',\n                    value: '2'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择审核结论'\n                  }\n                ]\n              },\n              {\n                type: 'Select',\n                model: 'reason',\n                placeholder: '请选择原因',\n                options: [\n                  {\n                    label: '此项图片上传较模糊，请重新拍摄后上传',\n                    value: '此项图片上传较模糊，请重新拍摄后上传'\n                  },\n                  {\n                    label: '此项图片上传不完整，请重新拍摄后上传',\n                    value: '此项图片上传不完整，请重新拍摄后上传'\n                  },\n                  {\n                    label: '其他原因，手动输入',\n                    value: '3'\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择原因'\n                  }\n                ],\n                showOn: {\n                  auditStatus: [\n                    {\n                      type: 'enum',\n                      enum: ['2']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              },\n              {\n                type: 'Input',\n                subtype: 'textarea',\n                model: 'reasonDesc',\n                placeholder: '请输入原因',\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入原因'\n                  }\n                ],\n                showOn: {\n                  reason: [\n                    {\n                      type: 'enum',\n                      enum: ['3']\n                    },\n                    {\n                      required: true\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      title: '案件审核结论',\n      type: 'table',\n      sectionKey: 'CaseReviewConclusion',\n      changeFormStyle: false,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 'auto'\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'Radio',\n                model: 'auditStatus',\n                options: [\n                  {\n                    label: '通过',\n                    value: '1',\n                    disabled: false\n                  },\n                  {\n                    label: '驳回',\n                    value: '2',\n                    disabled: true\n                  },\n                  {\n                    label: '不通过',\n                    value: '3',\n                    disabled: true\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择审核结论'\n                  }\n                ],\n                showOn: {\n                  isPass: {\n                    type: 'enum',\n                    enum: [true]\n                  }\n                }\n              },\n              {\n                type: 'Radio',\n                model: 'auditStatus',\n                options: [\n                  {\n                    label: '通过',\n                    value: '1',\n                    disabled: true\n                  },\n                  {\n                    label: '驳回',\n                    value: '2',\n                    disabled: false\n                  },\n                  {\n                    label: '不通过',\n                    value: '3',\n                    disabled: false\n                  }\n                ],\n                rules: [\n                  {\n                    required: true,\n                    message: '请选择审核结论'\n                  }\n                ],\n                showOn: {\n                  isPass: {\n                    type: 'enum',\n                    enum: [false]\n                  }\n                }\n              }\n            ]\n          }\n        ],\n        data: [\n          {\n            key: 'conclusion',\n            label: '选择案件审核结论',\n            value: '选择「通过」后转到下个审核流程，选择「不通过」后转到终审员，选择「驳回」后转到用户侧补交材料',\n            reasonDesc: ''\n          }\n        ]\n      }\n    },\n    {\n      type: 'table',\n      changeFormStyle: false,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 100\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'Select',\n                label: '',\n                model: 'companyId',\n                options: '/api/audit/edit/company-list',\n                rules: [\n                  {\n                    required: true,\n                    type: 'number',\n                    message: '请选择线下调查公司'\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        data: [\n          {\n            key: 'companyId',\n            label: '选择线下调查公司',\n            companyId: ''\n          }\n        ]\n      }\n    },\n    {\n      type: 'table',\n      changeFormStyle: false,\n      showTableHeader: true,\n      table: {\n        columns: [\n          {\n            title: '审核项',\n            key: 'label',\n            width: 100\n          },\n          {\n            title: '审核结论',\n            slot: 'action',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'Input',\n                subtype: 'textarea',\n                model: 'checkConsolusion',\n                placeholder: '请输入最终审核结论',\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入最终审核结论'\n                  },\n                  {\n                    type: 'string',\n                    min: 20,\n                    max: 500,\n                    message: '字数要求在20-500字之间',\n                    trigger: 'blur'\n                  }\n                ]\n              }\n            ]\n          }\n        ],\n        data: [\n          {\n            key: 'checkConsolusion',\n            label: '填写审核结论',\n            checkConsolusion: ''\n          }\n        ]\n      }\n    }\n  ],\n  dialogs: {\n    \"title\": \"提交\",\n    \"content\": \"提交后，案件将转入下一流程\"\n  }\n};\n\n\nconst keyToLabelMap = {\n  baseInfo: {\n    // 兼容go语言json序列化排序 保证成员姓名和身份证号显示在最前面\n    aaname: '成员姓名',\n    abidcard: '身份证号',\n    diagnoseTime: '确诊时间',\n    diseaseName: '确诊疾病',\n    diagnoseHospital: '确诊医院',\n    address: '常住地址',\n    phone: '联系电话',\n    backupPhone: '备用电话',\n    bankNo: '收款卡号',\n    bankUsername: '卡主姓名'\n  },\n  caseDes: {\n    caseDes: '用户案件描述'\n  },\n  moreInfo: {\n    joinTime: '加入时间',\n    applyTime: '申请时间',\n    totalDays: '累计加入',\n    mutualMoney: '匹配互助金额',\n    isSerious: '是否为轻疾'\n  },\n  uploadMaterial: {\n    bankcard: '银行卡正反面',\n    idCardImgs: '身份证正反面',\n    inpatient: '住院和疾病相关材料',\n    diseaseImgs: '诊断证明',\n    application: '出院小结',\n  },\n  firstComment: {\n    checkConsolusion: '初审建议'\n  },\n  secondComment: {\n    checkConsolusion: '复审建议'\n  },\n  offlineComment: {\n    undeilineProcess: '调查过程',\n    undeilineSurvey: '调查概况',\n  },\n  offlineCommentLink: {\n    underlineDocUrl: '调查材料'\n  },\n  checkConsolusion: {\n    checkConsolusion: '材料终审建议'\n  }\n};\n\n// 不影响是否通过的keys\nconst excludePassKeys = [\n  'conclusion',\n  'checkConsolusion',\n  'companyId'\n];\n\nexport default {\n  pageConfig,\n  keyToLabelMap,\n  excludePassKeys\n}\n","const pageConfig = {\n  pageMark: \"total\",\n  showButton: false,\n  pageDataRequestInfo: {\n    api: '/api/audit/total/data',\n    method: 'get',\n    apiParams: ['all']\n  },\n  pageGoBackUrl: '',\n  tableList: [\n    {\n      title: '用户上传信息',\n      type: 'table',\n      sectionKey: 'baseInfo',\n      needClearData: true,\n      needShowDownLoadButton: false,\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '用户案件描述',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'caseDes',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '用户更多信息',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'moreInfo',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '用户图片信息',\n      type: 'table',\n      needShowDownLoadButton: true,\n      needClearData: true,\n      sectionKey: 'uploadMaterial',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '图片列表',\n            slot: 'value',\n            width: 'auto',\n            formFields: [\n              {\n                type: 'List',\n                model: 'value',\n                cardWidth: '120px',\n                cardHeight: '90px'\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      title: '材料初审建议',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'firstComment',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '材料复审建议',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'secondComment',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    },\n    {\n      title: '线下调查建议',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'offlineComment',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            width: 'auto',\n            key: 'value',\n          }\n        ]\n      }\n    },\n    {\n      title: '线下调查链接',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'offlineCommentLink',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            width: 'auto',\n            slot: 'value',\n            formFields: [\n              {\n                type: 'Button',\n                model: 'value',\n                textModel: 'value',\n                subtype: 'text',\n                action: {\n                  type: 'url',\n                }\n              }\n            ]\n          }\n        ]\n      }\n    },\n    {\n      title: '材料终审建议',\n      type: 'table',\n      needShowDownLoadButton: false,\n      needClearData: true,\n      sectionKey: 'checkConsolusion',\n      showTableHeader: false,\n      table: {\n        columns: [\n          {\n            title: '项',\n            key: 'label',\n            width: 150\n          },\n          {\n            title: '值',\n            key: 'value',\n            width: 'auto'\n          }\n        ]\n      }\n    }\n  ]\n};\n\n\nconst keyToLabelMap = {\n  baseInfo: {\n    // 兼容go语言json序列化排序 保证成员姓名和身份证号显示在最前面\n    aaname: '成员姓名',\n    abidcard: '身份证号',\n    diagnoseTime: '确诊时间',\n    diseaseName: '确诊疾病',\n    diagnoseHospital: '确诊医院',\n    address: '常住地址',\n    phone: '联系电话',\n    backupPhone: '备用电话',\n    bankNo: '收款卡号',\n    bankUsername: '卡主姓名'\n  },\n  caseDes: {\n    caseDes: '用户案件描述'\n  },\n  moreInfo: {\n    joinTime: '加入时间',\n    applyTime: '申请时间',\n    totalDays: '累计加入',\n    mutualMoney: '匹配互助金额',\n    isSerious: '是否为轻疾'\n  },\n  uploadMaterial: {\n    bankcard: '银行卡正反面',\n    idCardImgs: '身份证正反面',\n    inpatient: '住院和疾病相关材料',\n    diseaseImgs: '诊断证明',\n    application: '出院小结',\n  },\n  firstComment: {\n    checkConsolusion: '初审建议'\n  },\n  secondComment: {\n    checkConsolusion: '复审建议'\n  },\n  offlineComment: {\n    undeilineProcess: '调查过程',\n    undeilineSurvey: '调查概况',\n  },\n  offlineCommentLink: {\n    underlineDocUrl: '调查材料'\n  },\n  checkConsolusion: {\n    checkConsolusion: '材料终审建议'\n  }\n};\n\nexport default {\n  pageConfig,\n  keyToLabelMap\n}\n","import editConfig from './edit';\nimport totalConfig from './total';\n\nexport default {\n  '/audit/edit': editConfig,\n  '/audit/total': totalConfig\n}\n","/**\n将section的数据：\n{\n   \"aaname\":\"lisi\",\n   \"abidcard\":\"1238294839824\",\n   \"diagnoseTime\":\"2019-11-20\",\n}\n和sectionLabel：\n{\n   \"aaname\":\"成员姓名\",\n   \"abidcard\":\"身份证号\",\n   \"diagnoseTime\":\"确诊时间\",\n}\n转换为表格数据：\n[\n    {\n        \"key\": \"aaname\",\n        \"label\": \"成员姓名\",\n        \"value\": \"lisi\"\n    },\n    {\n        \"key\": \"abidcard\",\n        \"label\": \"身份证号\",\n        \"value\": \"1238294839824\"\n    },\n    {\n        \"key\": \"diagnoseTime\",\n        \"label\": \"确诊时间\",\n        \"value\": \"2019-11-20\"\n    }\n]\n */\nfunction getTableData(sectionData, sectionLabel) {\n  const tableData = Object.keys(sectionData).map(key => {\n    let rowData = {};\n    if (sectionLabel[key]) {\n      rowData = {\n        key,\n        label: sectionLabel[key],\n        value: sectionData[key]\n      };\n    }\n    return rowData;\n  }).filter(item => item);\n  return tableData;\n}\n\n/**\n * 通过配置信息和页面数据，生成表格数据\n */\nexport function getSectionTableData(sectionConfig, pageData, keyToLabel) {\n  const {sectionKey, table} = sectionConfig;\n  const sectionLabel = keyToLabel[sectionKey];\n  const sectionData = pageData.info && pageData.info[sectionKey];\n  let tableData = [];\n  // 有一些section的表格数据是维护在配置中的\n  if (table.data && table.data) {\n    tableData = table.data;\n  }\n  // 另外的一些表格数据是从后端下发的，需要结合本地维护的keyToLabel生成表格数据\n  if (sectionLabel && sectionData) {\n    tableData = getTableData(sectionData, sectionLabel);\n  }\n  return tableData;\n}\n","<template>\n  <div class=\"page-audit\">\n    <div v-if=\"loading\" class=\"page-audit-loading\">\n      <Spin class=\"page-audit-loading-spin\" size=\"large\" />\n    </div>\n    <template v-else>\n      <div\n        v-for=\"config in pageConfig.tableList\"\n        :key=\"config.title\"\n        class=\"page-audit-section\"\n      >\n        <h3 class=\"page-audit-header\">\n          {{ config.title }}\n        </h3>\n        <div class=\"page-audit-tool-bar\">\n          <a :href=\"downLoadUrl\" v-if=\"downLoadUrl && config.needShowDownLoadButton\">下载全部</a>\n        </div>\n        <Table\n          :class=\"[config.changeFormStyle ? 'page-audit-table page-audit-form'\n            : 'page-audit-table']\"\n          :columns=\"config.table.columns\"\n          :data=\"config.table.data\"\n          :show-header=\"config.showTableHeader\"\n          v-if=\"config.type==='table'\"\n        >\n          <template\n            v-for=\"column in config.table.columns\"\n            :slot=\"column.slot\"\n            :ref=\"column.slot\"\n            slot-scope=\"{ row, index }\"\n          >\n            <Form\n              v-if=\"column.formFields\"\n              :key=\"column.slot\"\n              :ref=\"column.slot + row.key\"\n              :model=\"row\"\n            >\n              <!-- column.slot + row.key. eg: 'imgList' + 'action' or 'action' + 'name' -->\n              <FieldGenerator\n                v-for=\"(field, i) in column.formFields\"\n                :key=\"i\"\n                :field=\"field\"\n                :params-container=\"paramsContainer\"\n                @on-field-change=\"handleFieldChange($event, row, column.slot + row.key)\"\n                @on-button-event=\"handleButtonEvent($event, row, index)\"\n                @on-list-item-click=\"handleListItemClick\"\n              />\n            </Form>\n            <div v-else :key=\"column.key\">{{row.value}}</div>\n          </template>\n        </Table>\n      </div>\n      <div class=\"page-audit-footer-actions\" v-if=\"pageConfig.showButton\">\n        <Button type=\"primary\" @click=\"handleSave(pageConfig.formVaildAction)\">提交保存</Button>\n      </div>\n    </template>\n    <Modal v-model=\"imgPreviewModalOpen\" :width=\"800\">\n      <img\n        class=\"page-audit-modal-img\"\n        :src=\"imgPreviewUrl\"\n        alt=\"\"\n      >\n    </Modal>\n    <Modal\n      v-model=\"asureDialogShow\"\n      :title=\"asureDialogConfig.title\"\n    >\n      <div>{{asureDialogConfig.content}}</div>\n      <div slot=\"footer\">\n        <Button type=\"text\" size=\"large\" @click=\"cancel\">取消</Button>\n        <Button type=\"primary\" size=\"large\" @click=\"confirm\">确定</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n<script>\n/* eslint-disable no-console */\nimport {mapState} from 'vuex';\nimport axios from '@/libs/api.request';\nimport config from './config/index';\nimport {getSectionTableData} from './helper'\n\nexport default {\n  data() {\n    return {\n      // page loading\n      loading: true,\n      // audit input data\n      formModel: {},\n      // img preview modal\n      imgPreviewModalOpen: false,\n      imgPreviewUrl: '',\n      // asure dialog\n      asureDialogShow: false,\n      pageData: {\n        isCheck: true\n      },\n      downLoadUrl: '',\n    };\n  },\n\n  computed: {\n    ...mapState({\n      pagePath: state => state.page.pagePath\n    }),\n\n    // 通过本地维护的页面配置，字典映射信息，以及从后端拉取的数据来计算当前页面最终的渲染配置\n    pageConfig() {\n      if (config[this.pagePath]) {\n        const pageConfig = config[this.pagePath].pageConfig;\n        const tableList = pageConfig.tableList.map(sectionConfig => {\n          const keyToLabel = config[this.pagePath].keyToLabelMap;\n          sectionConfig.table.data = getSectionTableData(sectionConfig, this.pageData, keyToLabel)\n          return sectionConfig;\n        });\n        pageConfig.tableList = tableList;\n        return pageConfig;\n      }\n      return {\n        request: {},\n        dialogs: {},\n        needDealUploadData: false,\n        submitRequestInfo: {}\n      }\n    },\n\n    pageDataRequestInfo() {\n      return this.pageConfig && this.pageConfig.pageDataRequestInfo;\n    },\n\n    submitRequestInfo() {\n      return this.pageConfig.submitRequestInfo && this.pageConfig.submitRequestInfo;\n    },\n\n    asureDialogConfig() {\n      return this.pageConfig.dialogs || {};\n    },\n\n    needDealUploadData() {\n      return this.pageConfig.needDealUploadData || false;\n    },\n    // 案件审核结论的选项状态，需要依赖其它审核项的结果。\n    isPass() {\n      let excludePassKeys = config[this.pagePath].excludePassKeys || [];\n      return Object.keys(this.formModel)\n        .filter(key => !excludePassKeys.includes(key))\n        .every(key => {\n          return this.formModel[key].auditStatus === '1';\n        });\n    },\n    paramsContainer() {\n      return {\n        isPass: this.isPass\n      };\n    }\n  },\n\n  watch: {\n    pagePath() {\n      this.getPageDetail();\n    }\n  },\n\n  mounted() {\n    this.getPageDetail();\n  },\n\n  methods: {\n    getPageDetail() {\n      this.loading = true;\n      // 先清数据避免上一个页面的数据在当前页面展示\n      this.resetPageData();\n      const {api, method} = this.pageDataRequestInfo;\n      axios\n        .request({\n          method,\n          url: api,\n          params: {\n            applyNo: this.$route.query.applyNo || 0\n          }\n        })\n        .then(res => {\n          if (res && res.data) {\n            this.pageData = res.data;\n            this.loading = false;\n          }\n        }).catch(err => {\n          this.loading = false;\n        });\n    },\n    /**\n         * When the field value changed, sync the value to this.formModel\n         * Notice there may be more than form in the per line in the table.\n         *\n         * @param {Object} $event event data\n         * @param {String} $event.model the changed field's model, eg: auditStatus\n         * @param {String} $event.value the change field's value, eg: 1 (one value of auditStatus's options)\n         * @param {String} row.key the changed field' identifier, eg: name\n         * @param {String} refKey the ref of the changed field's form, eg: actionname.\n         */\n    handleFieldChange({model, value}, row, refKey) {\n      const key = row.key;\n      console.log(key, model, value, row, refKey)\n      // eslint-disable-next-line no-console\n      this.$refs[refKey][0].validate();\n      if (!this.formModel[key]) {\n        this.$set(this.formModel, key, {});\n      }\n      this.$set(this.formModel[key], model, value);\n    },\n\n    handleSave(action) {\n      let validCount = 0;\n      const refKeys = Object.keys(this.$refs);\n      refKeys.forEach(form => {\n        this.$refs[form][0] && this.$refs[form][0].validate().then(valid => {\n          if (valid) {\n            validCount++;\n          }\n          // All validate success\n          console.log('validCount', validCount, refKeys.length);\n          if (validCount === refKeys.length) {\n            this.asureDialogShow = true;\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      });\n    },\n\n    handleListItemClick({url}) {\n      this.imgPreviewModalOpen = true;\n      this.imgPreviewUrl = url;\n    },\n\n    cancel() {\n      this.asureDialogShow = false;\n    },\n\n    confirm() {\n      const {api, method} = this.pageConfig.submitRequestInfo;\n      const params = {\n        ...this.formModel,\n        applyNo: this.$route.query.applyNo || 0\n      };\n      axios\n        .request({\n          method,\n          url: api,\n          params\n        })\n        .then(res => {\n          if (+res.errno === 0) {\n            this.$Message.success({\n              background: true,\n              content: '提交成功'\n            });\n          } else {\n            this.$Message.error({\n              background: true,\n              content: '系统异常'\n            });\n          }\n        });\n      this.asureDialogShow = false;\n    },\n\n    resetPageData() {\n      this.pageConfig.tableList = this.pageConfig.tableList.map(item => {\n        if (item.needClearData) {\n          item.table.data = [];\n        }\n        return item;\n      });\n    },\n  }\n};\n</script>\n\n<style lang=\"less\">\n    .page-audit {\n        &-loading {\n          text-align: center;\n          padding: 140px;\n          &-spin {\n            display: inline-block;\n          }\n        }\n        &-table {\n            &-td-img {\n                width: 100%;\n            }\n        }\n        &-modal-img {\n            width: 100%;\n        }\n        &-section {\n            margin: 30px auto;\n        }\n        &-header {\n            margin-bottom: 10px;\n            font-size: 16px;\n        }\n        &-tool-bar {\n            text-align: right;\n            padding: 10px\n        }\n        .ivu-form-item {\n            margin-top: 20px\n        }\n        .ivu-table, .ivu-table-wrapper, .ivu-table-cell {\n            overflow: visible;\n        }\n        .download-wrapper {\n            padding: 0 20px;\n        }\n\n        &-form {\n           .ivu-form-item {\n                margin-top: 0px;\n                margin-bottom: 0px\n            }\n        }\n    }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=32ca1c6c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import index from './index.vue';\n\nexport default index;\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}